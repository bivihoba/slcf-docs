Файловая структура проекта SLCF
=========

В корне проекта находятся 4 директории (assets, bundles, code, vendors).

В **assets** лежат исходные материалы для верстки, имеющие смысл в рамках всего проекта:
техническая документация, гайдлайны, и т.д..

**code** – содержит конечные файлы верстки.
В _code_ как минимум два раздела: _dev_ и _production_, содержащие одноименные версии файлов.
Все файлы в _dev_ и _production_ добавляются автоматически и никогда руками.
_Production_ содержит то же, что и _dev_, но после применения утилит для оптимизации,
также могут быть изменены имена некоторых файлов и структура директорий
для соответствия требованиям к выкладке проекта.
Реальная работа по проекту ведется с _dev_-версией файлов,
_production_-версия используется только для тестирования.

**bundles** — главная папка, содержит, как ни странно, бандлы.
Бандл — коллекция деклараций блоков, страниц и всего, что относится к какой-либо конкретной части проекта.
Бандлов в проекте может быть много — для разных разделов или отдельных страниц,
или всего один — на весь проект сайта или приложения.
Бандлы могут содержать зависимости от других **внешних** (из _vendors_) бандлов,
составляя тем самым уровни переопределения для отдельных технологий.
Бандлы могут отличаться по содержанию.
По умолчанию в проекте два бандла: main и __assets.

**vendors** — содержит зависимости проекта – подключения внешних бандлов. Для подключения используется механизм git submodules.
_Vendors_ по умолчанию содержит:

- [SLCF Compiler](https://github.com/bivihoba/slcf-compiler) — инструмент, предназначенный для организации и написания HTML-страниц в БЭМ-терминах на BEMXML. Синтаксис BEMXML подробно описан ниже.
- [SLCF Docs](https://github.com/bivihoba/slcf-docs)
- [SLCF Nano Core](https://github.com/askaza/slcf-nano-core) – минимальный набор блоков, задекларированных в HTML, которые описывают структуру HTML-документа и базовые конструкции.

### Бандл

Рассмотрим в качестве примера структуру бандла  _main_.

В **assets** лежат исходные материалы, имеющие непосредственное отношение к бандлу, чаще всего это PSD-макеты, файлы спрайтов и т.п..

**Pages** содержит описания страниц в BEMXML.

**Page-schemes** содержит индексы БЭМ-сущностей для каждой из страниц (файлы генерируются при сборке страниц).

**Templates** содержит файлы с декларациями общих шаблонов (фрагменты BEMXML), которые можно использовать на страницах.

Декларации блоков складываются в отдельные папки по технологиям. Папки с декларациями именуются согласно схеме: название технологии + суффикс ".blocks". Так, _less.blocks_ — содержит декларации блоков в технологии Less, _html.blocks_ – в технологии HTML, и т.д. 

Содержание каталогов с декларациями различается в зависимости от технологий. Для HTML обычно используется один файл с декларациями – _default-semantic.xml_, а для стилей – поблочное разбиение на файлы.

Необязательно, чтобы каждой БЭМ-сущности соответствовал отдельный файл. Рекомендуется производить разбиение необходимости, исходя из задач проекта. 

В бандле _main_ также присутствуют _data-sources, utilities, i18nd_, но используются они не часто. Их предназначение соответственно порядку: xml-файлы с данными, xslt-шаблоны и DTD-файлы.

Важное значение имеют файлы в корне бандла. Самый главный файл – **settings.xml** — по сути хэлпер, который реализует уровни переопределения для BEMXML-шаблонов и HTML-семантики БЭМ-сущностей.

**styles.less** — объединяет все подключения стилей бандла. Аналогично для _Stylus_.

Бандл  __assets – специальный, он зарезервирован под конечные файлы проекта,
которые попадают в code/dev в неизменном виде, простым копированием.
Для таких файлов обычно не написана технология сборки в БЭМ-терминах.
